# Fallen Crusade

## Environment Setup

#### Download and Install 
1. [Node.js + NPM](https://nodejs.org/en/)
2. [MongoDB](https://www.mongodb.com/download-center/community) (optional - can use external database)

#### Install server dependencies
3. `npm i` terminal command to install required server dependencies (root folder).

#### Start production server
4. `npm start` starts the server in production mode.

#### Start development servers
4. `npm run start-dev` run the server in dev mode. \*\*\*
5. `cd web` `npm i` install web client dependencies.
6. `npm start` runs the React development server. \*\*\*
7. `tsc -w` run the TypeScript compiler in watch mode. \*\*\*
    (\*\*\* = in a separate terminal window) 


## Configuration
There are two ways to configure the server - command line arguments and the settings file. 
Command line arguments are optional and will override the settings file if provided.

#### Command Line Arguments
| Variable  | Description |
| --------- | ----------- |
| PORT | Port to listen on for HTTP and WebSocket requests |
| MONGO_URI | Mongo database connection URI  |

#### Settings File
Settings are stored in the _settings.json_ file. This file is automatically generated when the server first runs. 
```javascript
{
    "port": 8080
    "mongo_uri": "mongodb://localhost:27017/fallen_crusade"
}
```